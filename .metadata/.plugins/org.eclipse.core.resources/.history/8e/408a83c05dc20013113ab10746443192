import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Random;
import java.util.Timer;
import java.util.TimerTask;

public class topLevel {

	/**
	 * @param args
	 */
	private static int clientAddPort = 9001;
	private static int clientNormPort = 9999;
	private static List<Peer> peers;
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		peers = Collections.synchronizedList(new ArrayList<Peer>());
		acceptRequests blah = new acceptRequests(clientAddPort, peers);
		blah.start();
		Timer resend = new Timer();
		resend.schedule(new TimerTask(){
			public void run(){
				updateClients();
			}
		}, 1000*10, 1000*10);
	}
	public static void updateClients(){
		long seed = System.nanoTime();
		Collections.shuffle(peers, new Random(seed));
		for(int i = 0; i < peers.size(); i++){
			peers.get(i).setSpeed(i);
		}
		for(int i = 0; i < peers.size(); i++){
			Peer temp = peers.get(i);
			DataOutputStream out = new DataOutputStream(temp.mainSocket.getOutputStream());
		}
	}
}
